# ๐ช ูุธุงู ุฅุฏุงุฑุฉ ุงููุชุฌุฑ ุงูุฅููุชุฑููู ุงูุดุงูู
## E-Commerce + Sales + Accounting System

---

## ๐ ูุธุฑุฉ ุนุงูุฉ

ูุธุงู ูุชูุงูู ูุฅุฏุงุฑุฉ ุงููุชุงุฌุฑ ุงูุฅููุชุฑูููุฉ ูุดูู:
- โ ุฅุฏุงุฑุฉ ุงูููุชุฌุงุช ูุงููุฎุฒูู
- โ ุฅุฏุงุฑุฉ ุงูุทูุจุงุช ูุงูุนููุงุก
- โ ูุธุงู ุงูููุงุชูุฑ ูุงููุฏููุนุงุช
- โ ุงูุญุณุงุจุงุช ุงููุงููุฉ
- โ ุงูุชูุงุฑูุฑ ูุงูุฅุญุตุงุฆูุงุช

---

## ๐๏ธ ูููู ุงููุธุงู

### 1๏ธโฃ ูุญุฏุฉ ุฅุฏุงุฑุฉ ุงูููุชุฌุงุช
**ุงููููุงุช:**
- `admin.html` - ููุญุฉ ุชุญูู ุงูููุชุฌุงุช
- `products.html` - ุนุฑุถ ุงูููุชุฌุงุช ููุนููุงุก
- `product-details.html` - ุชูุงุตูู ุงูููุชุฌ

**ุงููุธุงุฆู:**
- ุฅุถุงูุฉ/ุชุนุฏูู/ุญุฐู ุงูููุชุฌุงุช
- ุชุตููู ุงูููุชุฌุงุช
- ุฅุฏุงุฑุฉ ุงููุฎุฒูู
- ุชูุจููุงุช ููุงุฐ ุงููุฎุฒูู
- ุงูุฎุตููุงุช ูุงูุฃุณุนุงุฑ

**ูุงุนุฏุฉ ุงูุจูุงูุงุช:**
```
products/
  โโโ product_id
  โโโ name
  โโโ description
  โโโ price
  โโโ discount_price
  โโโ status (active/inactive/hidden)
  โโโ category_id
  โโโ stock โ stock/product_id
```

---

### 2๏ธโฃ ูุญุฏุฉ ุณูุฉ ุงูุชุณูู
**ุงููููุงุช:**
- `cart.html` - ุณูุฉ ุงูุชุณูู

**ุงููุธุงุฆู:**
- ุฅุถุงูุฉ/ุญุฐู ุงูููุชุฌุงุช
- ุชุนุฏูู ุงููููุงุช
- ุญุณุงุจ ุงูุฅุฌูุงูู ุชููุงุฆูุงู
- ุฏุนู ุงูุถููู (Guest Checkout)

**ูุงุนุฏุฉ ุงูุจูุงูุงุช:**
```
carts/
  โโโ cart_id
  โโโ user_id (nullable)
  โโโ session_id
  โโโ items/
      โโโ product_id
      โโโ quantity
      โโโ unit_price
```

---

### 3๏ธโฃ ูุญุฏุฉ ุฅุฏุงุฑุฉ ุงูุทูุจุงุช
**ุงูููู:** `dashboard-orders.html` (ุณูุชู ุฅูุดุงุคู)

**ุงููุธุงุฆู:**
- ุนุฑุถ ุฌููุน ุงูุทูุจุงุช
- ุชุนุฏูู ุญุงูุฉ ุงูุทูุจ
- ุงูุจุญุซ ูุงูููุชุฑุฉ
- ุทุจุงุนุฉ ุงูุทูุจุงุช
- ุฅูุบุงุก ุงูุทูุจุงุช (ูุน ุฅุฑุฌุงุน ุงููุฎุฒูู)

**ุญุงูุงุช ุงูุทูุจ:**
- `pending` - ููุฏ ุงูุงูุชุธุงุฑ
- `paid` - ูุฏููุน
- `shipped` - ุชู ุงูุดุญู
- `completed` - ููุชูู
- `cancelled` - ููุบู

**ูุงุนุฏุฉ ุงูุจูุงูุงุช:**
```
orders/
  โโโ order_id
  โโโ order_number (ORD-2024-001)
  โโโ customer_id
  โโโ order_status
  โโโ total_amount
  โโโ discount_amount
  โโโ shipping_fee
  โโโ final_amount
  โโโ payment_method
  โโโ items/
```

**ุณูุฑ ุงูุนูู:**
```
Cart โ Create Order โ Generate Invoice โ Process Payment โ Update Stock
```

---

### 4๏ธโฃ ูุญุฏุฉ ุฅุฏุงุฑุฉ ุงูุนููุงุก
**ุงูููู:** `dashboard-customers.html` (ุณูุชู ุฅูุดุงุคู)

**ุงููุธุงุฆู:**
- ุฅุถุงูุฉ/ุชุนุฏูู ุงูุนููุงุก
- ุนุฑุถ ุณุฌู ุงูุทูุจุงุช
- ุฅุญุตุงุฆูุงุช ุงููุดุชุฑูุงุช
- ููุชุฑุฉ ุงูุนููุงุก

**ูุงุนุฏุฉ ุงูุจูุงูุงุช:**
```
customers/
  โโโ customer_id
  โโโ name
  โโโ phone
  โโโ email
  โโโ address
  โโโ city
  โโโ total_purchases
  โโโ total_spent
  โโโ customer_type
```

---

### 5๏ธโฃ ูุญุฏุฉ ุงูููุงุชูุฑ
**ุงูููู:** `dashboard-invoices.html` (ุณูุชู ุฅูุดุงุคู)

**ุงููุธุงุฆู:**
- ุนุฑุถ ุฌููุน ุงูููุงุชูุฑ
- ุญุงูุฉ ุงูููุงุชูุฑ (ูุฏููุน/ุบูุฑ ูุฏููุน/ุฌุฒุฆู)
- ุทุจุงุนุฉ ุงูููุงุชูุฑ
- ุงูุจุญุซ ูุงูููุชุฑุฉ

**ุญุงูุงุช ุงููุงุชูุฑุฉ:**
- `unpaid` - ุบูุฑ ูุฏููุน
- `partially_paid` - ูุฏููุน ุฌุฒุฆูุงู  
- `paid` - ูุฏููุน ุจุงููุงูู

**ูุงุนุฏุฉ ุงูุจูุงูุงุช:**
```
invoices/
  โโโ invoice_id
  โโโ invoice_number (INV-2024-001)
  โโโ order_id
  โโโ customer_id
  โโโ invoice_date
  โโโ due_date
  โโโ total_amount
  โโโ paid_amount
  โโโ remaining_amount
  โโโ invoice_status
```

**ููุทู ุงูุนูู:**
```javascript
if (paid_amount === 0) โ unpaid
else if (paid_amount < total_amount) โ partially_paid
else โ paid
```

---

### 6๏ธโฃ ูุญุฏุฉ ุงููุฏููุนุงุช
**ุงูููู:** `dashboard-payments.html` (ุณูุชู ุฅูุดุงุคู)

**ุงููุธุงุฆู:**
- ุชุณุฌูู ุงูุฏูุนุงุช
- ุฑุจุท ุงูุฏูุนุฉ ุจุงููุงุชูุฑุฉ
- ุทุฑู ุฏูุน ูุชุนุฏุฏุฉ
- ุชุญุฏูุซ ุญุงูุฉ ุงููุงุชูุฑุฉ ุชููุงุฆูุงู
- ุชุญุฏูุซ ุงูุญุณุงุจุงุช ุงููุงููุฉ

**ุทุฑู ุงูุฏูุน:**
- `cash` - ููุฏู
- `bank_transfer` - ุชุญููู ุจููู
- `online_gateway` - ุจูุงุจุฉ ุฅููุชุฑูููุฉ
- `card` - ุจุทุงูุฉ ุงุฆุชูุงู

**ูุงุนุฏุฉ ุงูุจูุงูุงุช:**
```
payments/
  โโโ payment_id
  โโโ payment_number (PAY-2024-001)
  โโโ order_id
  โโโ invoice_id
  โโโ customer_id
  โโโ payment_method
  โโโ amount
  โโโ payment_status
  โโโ payment_date
  โโโ account_id
  โโโ reference_number
```

**ุณูุฑ ุงูุนูู:**
```
Payment Received โ Update Invoice โ Update Order Status โ Update Account Balance
```

---

### 7๏ธโฃ ูุญุฏุฉ ุงูุญุณุงุจุงุช ุงููุงููุฉ
**ุงูููู:** `dashboard-accounts.html` (ุณูุชู ุฅูุดุงุคู)

**ุงููุธุงุฆู:**
- ุนุฑุถ ุงูุญุณุงุจุงุช
- ุชุชุจุน ุงูุฃุฑุตุฏุฉ
- ุณุฌู ุงููุนุงููุงุช
- ุชุญุฏูุซ ุชููุงุฆู ุนูุฏ ุงูุฏูุน

**ุฃููุงุน ุงูุญุณุงุจุงุช:**
- `cash` - ุงูุตูุฏูู ุงูููุฏู
- `bank` - ุงูุญุณุงุจุงุช ุงูุจูููุฉ
- `receivable` - ุงูุฐูู ุงููุฏููุฉ

**ูุงุนุฏุฉ ุงูุจูุงูุงุช:**
```
accounts/
  โโโ account_id
  โโโ account_name
  โโโ account_type
  โโโ balance
  โโโ currency
  โโโ last_transaction

transactions/
  โโโ transaction_id
  โโโ transaction_type
  โโโ account_id
  โโโ amount
  โโโ balance_before
  โโโ balance_after
  โโโ reference_type
  โโโ description
```

**ููุทู ุงูุญุณุงุจุงุช:**
```javascript
// ุนูุฏ ุงุณุชูุงู ุฏูุนุฉ
account.balance += payment.amount

// ุนูุฏ ุฑุฏ ูุจูุบ
account.balance -= refund.amount
```

---

### 8๏ธโฃ ูุญุฏุฉ ุงูุชูุงุฑูุฑ
**ุงูููู:** `dashboard-reports.html` (ุณูุชู ุฅูุดุงุคู)

**ุงูุชูุงุฑูุฑ ุงููุชุงุญุฉ:**

#### ๐ ุชูุฑูุฑ ุงููุจูุนุงุช
- ุฅุฌูุงูู ุงููุจูุนุงุช (ูุชุฑุฉ ูุญุฏุฏุฉ)
- ุนุฏุฏ ุงูุทูุจุงุช
- ูุชูุณุท ูููุฉ ุงูุทูุจ
- ุงูุทูุจุงุช ุงููุฏููุนุฉ vs ุงููุนููุฉ

#### ๐ ุชูุฑูุฑ ุงูููุชุฌุงุช
- ุฃูุซุฑ ุงูููุชุฌุงุช ูุจูุนุงู
- ุงูููุชุฌุงุช ุงูุฃูู ูุจูุนุงู
- ุงูููุชุฌุงุช ููุฐุช ูู ุงููุฎุฒูู
- ุงูููุชุฌุงุช ุชุญุชุงุฌ ุชุนุจุฆุฉ

#### ๐ฅ ุชูุฑูุฑ ุงูุนููุงุก
- ุงูุนููุงุก ุงูุฃูุซุฑ ุดุฑุงุกู
- ุฅุฌูุงูู ุฅููุงู ูู ุนููู
- ุนุฏุฏ ุทูุจุงุช ูู ุนููู
- ูุนุฏู ุงูุดุฑุงุก

#### ๐ฐ ุชูุฑูุฑ ุงูููุงุชูุฑ
- ุงูููุงุชูุฑ ุงููุฏููุนุฉ
- ุงูููุงุชูุฑ ุบูุฑ ุงููุฏููุนุฉ
- ุงูููุงุชูุฑ ุงููุชุฃุฎุฑุฉ
- ุฅุฌูุงูู ุงูุฐูู

#### ๐ฆ ุชูุฑูุฑ ุงูุญุณุงุจุงุช
- ุฃุฑุตุฏุฉ ุงูุญุณุงุจุงุช
- ุงููุนุงููุงุช ุงูููููุฉ
- ุงูุชุฏููุงุช ุงูููุฏูุฉ
- ุงูุฅูุฑุงุฏุงุช vs ุงููุตุฑููุงุช

**ูุธุงุฆู ุงูุชูุงุฑูุฑ:**
```javascript
// ุชูุฑูุฑ ุงููุจูุนุงุช
Total Sales = SUM(order.final_amount WHERE status != cancelled)

// ุฃูุถู ุงูููุชุฌุงุช
Top Products = ORDER BY quantity_sold DESC

// ููุฎุต ุงูุนููุงุก
Customer Summary = {total_orders, total_spent, avg_order_value}
```

---

## ๐ ุณูุฑ ุงูุนูู ุงููุงูู

### ูุณุงุฑ ุงูุทูุจ ูู ุงูุจุฏุงูุฉ ููููุงูุฉ:

```
1. ุงูุนููู ูุชุตูุญ ุงูููุชุฌุงุช
   โ
2. ูุถูู ููุชุฌุงุช ููุณูุฉ
   โ
3. ูุชู ุฅูุดุงุก ุงูุทูุจ (Order)
   โ
4. ูุชู ุฅูุดุงุก ุงููุงุชูุฑุฉ (Invoice) ุชููุงุฆูุงู
   โ
5. ูุชู ุชุณุฌูู ุงูุฏูุน (Payment)
   โ
6. ูุชู ุชุญุฏูุซ:
   - ุญุงูุฉ ุงูุทูุจ โ paid
   - ุญุงูุฉ ุงููุงุชูุฑุฉ โ paid
   - ุงููุฎุฒูู ูููุต
   - ุฑุตูุฏ ุงูุญุณุงุจ ูุฒูุฏ
   - ุฅุญุตุงุฆูุงุช ุงูุนููู ุชุชุญุฏุซ
   โ
7. ุงูุทูุจ ูุชู ุดุญูู (shipped)
   โ
8. ุงูุทูุจ ููุชูู (completed)
```

### ูุณุงุฑ ุงูุฅูุบุงุก:

```
1. ุฅูุบุงุก ุงูุทูุจ (cancelled)
   โ
2. ุฅุฐุง ูุงู ูุฏููุน:
   - ุฅุฑุฌุงุน ุงููุฎุฒูู
   - ุชุญุฏูุซ ุงููุงุชูุฑุฉ
   - ุฑุฏ ุงููุจูุบ (ุงุฎุชูุงุฑู)
```

---

## ๐ ูููุงุช ุงููุธุงู

### ูููุงุช ุงูุนููุงุก (Frontend)
```
index.html              โ ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ
products.html           โ ุนุฑุถ ุงูููุชุฌุงุช
product-details.html    โ ุชูุงุตูู ุงูููุชุฌ
cart.html               โ ุณูุฉ ุงูุชุณูู
checkout.html           โ ุฅุชูุงู ุงูุทูุจ
login.html              โ ุชุณุฌูู ุงูุฏุฎูู
register.html           โ ุฅูุดุงุก ุญุณุงุจ
about.html              โ ูู ูุญู
contact.html            โ ุงุชุตู ุจูุง
```

### ูููุงุช ุงูุฅุฏุงุฑุฉ (Dashboard)
```
dashboard.html          โ ููุญุฉ ุงูุชุญูู ุงูุฑุฆูุณูุฉ
admin.html              โ ุฅุฏุงุฑุฉ ุงูููุชุฌุงุช
dashboard-orders.html   โ ุฅุฏุงุฑุฉ ุงูุทูุจุงุช
dashboard-customers.html โ ุฅุฏุงุฑุฉ ุงูุนููุงุก
dashboard-invoices.html  โ ุฅุฏุงุฑุฉ ุงูููุงุชูุฑ
dashboard-payments.html  โ ุฅุฏุงุฑุฉ ุงููุฏููุนุงุช
dashboard-accounts.html  โ ุฅุฏุงุฑุฉ ุงูุญุณุงุจุงุช
dashboard-reports.html   โ ุงูุชูุงุฑูุฑ
dashboard-stock.html     โ ุฅุฏุงุฑุฉ ุงููุฎุฒูู
```

### ูููุงุช JavaScript
```
js/firebase-config.js    โ ุฅุนุฏุงุฏุงุช Firebase
js/firebase-system.js    โ ุฏูุงู ุงููุธุงู ุงููุงูู
js/main-firebase.js      โ ุฏูุงู ุงููุงุฌูุฉ ุงูุฃูุงููุฉ
js/dashboard.js          โ ุฏูุงู ููุญุฉ ุงูุชุญูู
js/reports.js            โ ุฏูุงู ุงูุชูุงุฑูุฑ
```

### ูููุงุช CSS
```
css/style.css            โ ุงูุชุตููู ุงูุฃุณุงุณู
css/dashboard.css        โ ุชุตููู ููุญุฉ ุงูุชุญูู
```

---

## ๐ ุงูุชุซุจูุช ูุงูุฅุนุฏุงุฏ

### ุงูุฎุทูุฉ 1: ุฅุนุฏุงุฏ Firebase
1. ุฃูุดุฆ ูุดุฑูุน ูู Firebase Console
2. ูุนูู Realtime Database
3. ุงูุณุฎ ุจูุงูุงุช ุงูุชูููู ุฅูู `firebase-config.js`

### ุงูุฎุทูุฉ 2: ุฅุนุฏุงุฏ ุงูููุงุนุฏ
```json
{
  "rules": {
    "products": {
      ".read": true,
      ".write": true,
      ".indexOn": ["category_id", "status"]
    },
    "orders": {
      ".read": true,
      ".write": true,
      ".indexOn": ["customer_id", "order_status", "created_at"]
    },
    "invoices": {
      ".read": true,
      ".write": true,
      ".indexOn": ["customer_id", "invoice_status", "invoice_date"]
    },
    "payments": {
      ".read": true,
      ".write": true,
      ".indexOn": ["order_id", "invoice_id", "payment_date"]
    },
    "customers": {
      ".read": true,
      ".write": true
    },
    "stock": {
      ".read": true,
      ".write": true,
      ".indexOn": ["quantity_available"]
    },
    "accounts": {
      ".read": true,
      ".write": true
    },
    "transactions": {
      ".read": true,
      ".write": true
    },
    "settings": {
      ".read": true,
      ".write": true
    }
  }
}
```

### ุงูุฎุทูุฉ 3: ุชููุฆุฉ ุงูุจูุงูุงุช ุงูุฃูููุฉ

#### ุฅูุดุงุก ุงูุญุณุงุจุงุช ุงูุฃุณุงุณูุฉ:
```javascript
// ูู Firebase Console โ Realtime Database
accounts/
  acc_cash: {
    account_id: "acc_cash",
    account_name: "ุงูุตูุฏูู - ููุฏู",
    account_type: "cash",
    balance: 0,
    currency: "SAR",
    is_active: true
  }
  
  acc_bank: {
    account_id: "acc_bank",
    account_name: "ุงูุจูู",
    account_type: "bank",
    balance: 0,
    currency: "SAR",
    is_active: true
  }
  
  acc_receivable: {
    account_id: "acc_receivable",
    account_name: "ุงูุฐูู ุงููุฏููุฉ",
    account_type: "receivable",
    balance: 0,
    currency: "SAR",
    is_active: true
  }
```

#### ุงูุฅุนุฏุงุฏุงุช ุงูุฃุณุงุณูุฉ:
```javascript
settings/
  general: {
    store_name: "ูุชุฌุฑู ุงูุฅููุชุฑููู",
    currency: "SAR",
    tax_rate: 0.15,
    shipping_fee: 50,
    free_shipping_threshold: 500
  }
  
  order_counter: 0
  invoice_counter: 0
  payment_counter: 0
```

---

## ๐ ูุซุงู ุนูู ุงูุงุณุชุฎุฏุงู

### ุฅูุดุงุก ุทูุจ ูุงูู:

```javascript
// 1. ุฅูุดุงุก ุงูุทูุจ
const orderData = {
  customer_id: "cust_123",
  total_amount: 2000,
  discount_amount: 100,
  shipping_fee: 50,
  final_amount: 1950,
  payment_method: "cash",
  shipping_address: "ุงูุฑูุงุถุ ุญู ุงูุนููุง",
  items: {
    item1: {
      product_id: "prod_1",
      product_name: "ูุงุจุชูุจ",
      quantity: 1,
      price: 2000,
      total: 2000
    }
  }
};

const orderId = await createOrder(orderData);

// 2. ูุนุงูุฌุฉ ุงูุฏูุน
const paymentData = {
  order_id: orderId,
  invoice_id: "inv_generated",
  customer_id: "cust_123",
  payment_method: "cash",
  amount: 1950,
  account_id: "acc_cash"
};

await processPayment(paymentData);

// ุงููุชูุฌุฉ:
// โ ุงูุทูุจ: paid
// โ ุงููุงุชูุฑุฉ: paid
// โ ุงููุฎุฒูู: ุชู ุงูุชูููู
// โ ุงูุญุณุงุจ: ุชู ุงูุฒูุงุฏุฉ
// โ ุงููุนุงููุฉ: ุชู ุงูุชุณุฌูู
```

---

## ๐ ุงูุฃูุงู

### ููุชุทููุฑ:
```json
{
  "rules": {
    ".read": true,
    ".write": true
  }
}
```

### ููุฅูุชุงุฌ:
```json
{
  "rules": {
    "products": {
      ".read": true,
      ".write": "auth != null"
    },
    "orders": {
      ".read": "auth != null",
      ".write": "auth != null"
    }
  }
}
```

---

## ๐ ุงููููุฒุงุช ุงููุชูุฏูุฉ

- โ ุชุญุฏูุซุงุช ููุฑูุฉ (Real-time)
- โ ุงูุชุฒุงูู ุงูุชููุงุฆู
- โ ุฏุนู ุงูุฏูุน ุงูุฌุฒุฆู
- โ ุฅุฏุงุฑุฉ ุงููุฎุฒูู ุงูุฐููุฉ
- โ ุชูุจููุงุช ููุงุฐ ุงููุฎุฒูู
- โ ุชูุงุฑูุฑ ุดุงููุฉ
- โ ุชุชุจุน ุงูุญุณุงุจุงุช ุงููุงููุฉ
- โ ุณุฌู ุงููุนุงููุงุช ุงููุงูู
- โ ุฅุญุตุงุฆูุงุช ุงูุนููุงุก
- โ ูุงุฌูุฉ ุนุฑุจูุฉ ูุงููุฉ

---

## ๐ ุงูุฏุนู

ุฑุงุฌุน ุงููููุงุช ุงูุชุงููุฉ:
- `FIREBASE_GUIDE.md` - ุฏููู Firebase ุงูุดุงูู
- `DATABASE_STRUCTURE.md` - ูููู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- `QUICK_START.md` - ุฏููู ุงูุจุฏุก ุงูุณุฑูุน

---

**๐ ูุธุงู ุดุงูู ููุชูุงูู ุฌุงูุฒ ููุงุณุชุฎุฏุงู!**
